<HTML>
<BODY>
<CENER><H1>
Build instructions
</H1></center>

<H2>
Win32/MSVC
</H2>

Define environment variable matlab to contain path to matlab (e.g. C:\Program Files\MATLAB\R2008a). (System properties-> Advanced->Environment Variables). 
<br><br>
Open solution projects/deformmatch-v3.sln <br>
In Build->Config.Manager select “Release-lib” (or “Debug-lib-mex” for debug) <br>
Build the solution<br>
<br>
From matlab run mex –setup and choose msvc compiler<br>
<br>
Run batch files (you might need to edit mexmkae.bat to check that the path to mex.bat is correct): <br>
projects/trws/alg_trws_mex.bat (alg_trws_mexd.bat for debug version) <br>
if there are errors they will appear in projects/trws/alg_trws_mex.log<br>
projects/deform_match_mex/deform_match_mex.bat <br> projects/deform_match_mex/matching_cost_q_mex.bat <br>
<br>
Verify with matlab/minsum/test_trws.m or <br> matlab/registration_2008/example1/example1.m <br>
You can compile on Win64 machine too, but the mexes will still be 32bit. <br>

<H2>
Other platforms/gcc3.3.6
</H2>

cd to projects\exttype and run make<br>
cd to projects\maxplus and run make<br>
<br>
This will create libs in the lib/ directory <br>
<br>
cd to projects/exttype in the makefile define your matlab folder (e.g. MATLAB = /usr/local/matlab76) and run make <br>
This should create mex file in matlab/minsum/alg_trws <br>
cd to projects/deform_match_mex and run <br>
make –f makefile1 <br>
make –f makefile2 <br>
I have not tested on x64 machines. <br>
<br>

<H2>
gcc4.x
</H2>

The code does not completely conform to the requirements standard realized in gcc4.x – it wants to check templates before instantiation and requires a lot of additional hints to be able to do this. This is doable, but currently I don’t follow it.
</BODY>
</HTML>
